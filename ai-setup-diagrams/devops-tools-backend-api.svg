<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 950">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0984e3"/>
      <stop offset="100%" style="stop-color:#74b9ff"/>
    </linearGradient>
    <linearGradient id="routerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6c5ce7"/>
      <stop offset="100%" style="stop-color:#a29bfe"/>
    </linearGradient>
    <linearGradient id="integrationGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e17055"/>
      <stop offset="100%" style="stop-color:#fab1a0"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0984e3"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6c5ce7"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1400" height="950" fill="#0a0a0f"/>

  <!-- Header -->
  <rect x="0" y="0" width="1400" height="60" fill="url(#headerGrad)"/>
  <text x="700" y="38" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="24" font-weight="bold">DevOps Tools Backend API Architecture</text>
  <text x="1380" y="38" text-anchor="end" fill="#888" font-family="Arial, sans-serif" font-size="12">FastAPI :8003 | Unified DevOps Integration</text>

  <!-- Main API Container -->
  <g filter="url(#shadow)" transform="translate(50, 80)">
    <rect x="0" y="0" width="1300" height="830" rx="20" fill="#1a1a2e" stroke="#0984e3" stroke-width="3"/>

    <!-- API Title Bar -->
    <rect x="0" y="0" width="1300" height="60" rx="20" fill="url(#apiGrad)"/>
    <rect x="0" y="40" width="1300" height="20" fill="url(#apiGrad)"/>
    <text x="650" y="38" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="18" font-weight="bold">ğŸš€ DevOps Tools Backend (app/main.py)</text>
    <text x="1250" y="38" text-anchor="end" fill="#e0e0e0" font-family="monospace" font-size="12">Port: 8003</text>
  </g>

  <!-- Root Endpoints Section -->
  <g filter="url(#shadow)" transform="translate(70, 160)">
    <rect x="0" y="0" width="300" height="180" rx="15" fill="#2d3436"/>
    <text x="150" y="30" text-anchor="middle" fill="#00b894" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ“ Root Endpoints</text>

    <rect x="15" y="45" width="270" height="35" rx="5" fill="#1a1a2e"/>
    <text x="25" y="67" fill="#74b9ff" font-family="monospace" font-size="10">GET /</text>
    <text x="100" y="67" fill="#888" font-family="monospace" font-size="9">â†’ API info, docs URL</text>

    <rect x="15" y="90" width="270" height="35" rx="5" fill="#1a1a2e"/>
    <text x="25" y="112" fill="#55efc4" font-family="monospace" font-size="10">GET /health</text>
    <text x="120" y="112" fill="#888" font-family="monospace" font-size="9">â†’ Health check</text>

    <rect x="15" y="135" width="270" height="35" rx="5" fill="#1a1a2e"/>
    <text x="25" y="157" fill="#ffd93d" font-family="monospace" font-size="10">GET /api/v1/status</text>
    <text x="160" y="157" fill="#888" font-family="monospace" font-size="9">â†’ All tools status</text>
  </g>

  <!-- Router Grid -->
  <g transform="translate(70, 360)">
    <text x="0" y="0" fill="#6c5ce7" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ”€ API Routers (prefix: /api/v1)</text>

    <!-- Row 1: Tools, GitLab, SonarQube -->
    <!-- Tools Router -->
    <g filter="url(#shadow)" transform="translate(0, 20)">
      <rect x="0" y="0" width="200" height="180" rx="12" fill="url(#routerGrad)"/>
      <text x="100" y="30" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">tools.router</text>
      <rect x="10" y="45" width="180" height="120" rx="8" fill="rgba(0,0,0,0.3)"/>
      <text x="20" y="65" fill="#fff" font-family="monospace" font-size="9">GET /tools</text>
      <text x="20" y="82" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ List all tools</text>
      <text x="20" y="102" fill="#fff" font-family="monospace" font-size="9">POST /tools/call</text>
      <text x="20" y="119" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ Unified tool caller</text>
      <text x="20" y="139" fill="#fff" font-family="monospace" font-size="9">GET /tools/{name}</text>
      <text x="20" y="156" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ Tool config</text>
    </g>

    <!-- GitLab Router -->
    <g filter="url(#shadow)" transform="translate(220, 20)">
      <rect x="0" y="0" width="200" height="180" rx="12" fill="url(#integrationGrad)"/>
      <text x="100" y="30" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">gitlab.router</text>
      <rect x="10" y="45" width="180" height="120" rx="8" fill="rgba(0,0,0,0.3)"/>
      <text x="20" y="65" fill="#fff" font-family="monospace" font-size="9">GET /gitlab/projects</text>
      <text x="20" y="82" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ List projects</text>
      <text x="20" y="102" fill="#fff" font-family="monospace" font-size="9">GET /gitlab/pipelines</text>
      <text x="20" y="119" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ Pipeline status</text>
      <text x="20" y="139" fill="#fff" font-family="monospace" font-size="9">POST /gitlab/commit</text>
      <text x="20" y="156" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ Create commit</text>
    </g>

    <!-- SonarQube Router -->
    <g filter="url(#shadow)" transform="translate(440, 20)">
      <rect x="0" y="0" width="200" height="180" rx="12" fill="#00b894"/>
      <text x="100" y="30" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">sonarqube.router</text>
      <rect x="10" y="45" width="180" height="120" rx="8" fill="rgba(0,0,0,0.2)"/>
      <text x="20" y="65" fill="#1a1a2e" font-family="monospace" font-size="9">GET /sonarqube/projects</text>
      <text x="20" y="82" fill="#006060" font-family="monospace" font-size="8">â†’ List projects</text>
      <text x="20" y="102" fill="#1a1a2e" font-family="monospace" font-size="9">GET /sonarqube/issues</text>
      <text x="20" y="119" fill="#006060" font-family="monospace" font-size="8">â†’ Quality issues</text>
      <text x="20" y="139" fill="#1a1a2e" font-family="monospace" font-size="9">GET /sonarqube/metrics</text>
      <text x="20" y="156" fill="#006060" font-family="monospace" font-size="8">â†’ Code metrics</text>
    </g>

    <!-- Trivy Router -->
    <g filter="url(#shadow)" transform="translate(660, 20)">
      <rect x="0" y="0" width="200" height="180" rx="12" fill="#fd79a8"/>
      <text x="100" y="30" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">trivy.router</text>
      <rect x="10" y="45" width="180" height="120" rx="8" fill="rgba(0,0,0,0.2)"/>
      <text x="20" y="65" fill="#1a1a2e" font-family="monospace" font-size="9">POST /trivy/scan</text>
      <text x="20" y="82" fill="#8e3060" font-family="monospace" font-size="8">â†’ Scan image</text>
      <text x="20" y="102" fill="#1a1a2e" font-family="monospace" font-size="9">GET /trivy/report</text>
      <text x="20" y="119" fill="#8e3060" font-family="monospace" font-size="8">â†’ Get CVE report</text>
      <text x="20" y="139" fill="#1a1a2e" font-family="monospace" font-size="9">GET /trivy/health</text>
      <text x="20" y="156" fill="#8e3060" font-family="monospace" font-size="8">â†’ Server status</text>
    </g>

    <!-- Row 2: Nexus, Unified, Pipeline -->
    <!-- Nexus Router -->
    <g filter="url(#shadow)" transform="translate(0, 220)">
      <rect x="0" y="0" width="200" height="180" rx="12" fill="#00cec9"/>
      <text x="100" y="30" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">nexus.router</text>
      <rect x="10" y="45" width="180" height="120" rx="8" fill="rgba(0,0,0,0.2)"/>
      <text x="20" y="65" fill="#1a1a2e" font-family="monospace" font-size="9">GET /nexus/repositories</text>
      <text x="20" y="82" fill="#007070" font-family="monospace" font-size="8">â†’ List repos</text>
      <text x="20" y="102" fill="#1a1a2e" font-family="monospace" font-size="9">GET /nexus/images</text>
      <text x="20" y="119" fill="#007070" font-family="monospace" font-size="8">â†’ Docker images</text>
      <text x="20" y="139" fill="#1a1a2e" font-family="monospace" font-size="9">GET /nexus/tags</text>
      <text x="20" y="156" fill="#007070" font-family="monospace" font-size="8">â†’ Image tags</text>
    </g>

    <!-- Unified Router -->
    <g filter="url(#shadow)" transform="translate(220, 220)">
      <rect x="0" y="0" width="200" height="180" rx="12" fill="#ffd93d"/>
      <text x="100" y="30" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">unified.router</text>
      <rect x="10" y="45" width="180" height="120" rx="8" fill="rgba(0,0,0,0.2)"/>
      <text x="20" y="65" fill="#1a1a2e" font-family="monospace" font-size="9">POST /unified/call</text>
      <text x="20" y="82" fill="#806000" font-family="monospace" font-size="8">â†’ Universal tool call</text>
      <text x="20" y="102" fill="#1a1a2e" font-family="monospace" font-size="9">GET /unified/schema</text>
      <text x="20" y="119" fill="#806000" font-family="monospace" font-size="8">â†’ OpenAPI schema</text>
      <text x="20" y="139" fill="#1a1a2e" font-family="monospace" font-size="9">POST /unified/batch</text>
      <text x="20" y="156" fill="#806000" font-family="monospace" font-size="8">â†’ Multi-tool call</text>
    </g>

    <!-- Pipeline Router -->
    <g filter="url(#shadow)" transform="translate(440, 220)">
      <rect x="0" y="0" width="200" height="180" rx="12" fill="url(#routerGrad)"/>
      <text x="100" y="30" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">pipeline.router</text>
      <rect x="10" y="45" width="180" height="120" rx="8" fill="rgba(0,0,0,0.3)"/>
      <text x="20" y="65" fill="#fff" font-family="monospace" font-size="9">POST /pipeline/generate</text>
      <text x="20" y="82" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ Generate YAML</text>
      <text x="20" y="102" fill="#fff" font-family="monospace" font-size="9">POST /pipeline/validate</text>
      <text x="20" y="119" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ Validate config</text>
      <text x="20" y="139" fill="#fff" font-family="monospace" font-size="9">POST /pipeline/fix</text>
      <text x="20" y="156" fill="#e0e0e0" font-family="monospace" font-size="8">â†’ Fix errors</text>
    </g>
  </g>

  <!-- Integrations Section -->
  <g filter="url(#shadow)" transform="translate(930, 160)">
    <rect x="0" y="0" width="400" height="430" rx="15" fill="#2d3436"/>
    <text x="200" y="30" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ”Œ Integration Clients (app/integrations/)</text>

    <!-- GitLab Integration -->
    <rect x="15" y="50" width="175" height="80" rx="8" fill="#1a1a2e" stroke="#e17055" stroke-width="1"/>
    <text x="103" y="75" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="11" font-weight="bold">gitlab.py</text>
    <text x="25" y="95" fill="#888" font-family="monospace" font-size="8">GitLabIntegration</text>
    <text x="25" y="110" fill="#888" font-family="monospace" font-size="8">API v4 client</text>
    <text x="25" y="125" fill="#fab1a0" font-family="monospace" font-size="7">:8929</text>

    <!-- SonarQube Integration -->
    <rect x="205" y="50" width="175" height="80" rx="8" fill="#1a1a2e" stroke="#00b894" stroke-width="1"/>
    <text x="293" y="75" text-anchor="middle" fill="#00b894" font-family="Arial, sans-serif" font-size="11" font-weight="bold">sonarqube.py</text>
    <text x="215" y="95" fill="#888" font-family="monospace" font-size="8">SonarQubeIntegration</text>
    <text x="215" y="110" fill="#888" font-family="monospace" font-size="8">Web API client</text>
    <text x="215" y="125" fill="#55efc4" font-family="monospace" font-size="7">:9002</text>

    <!-- Trivy Integration -->
    <rect x="15" y="145" width="175" height="80" rx="8" fill="#1a1a2e" stroke="#fd79a8" stroke-width="1"/>
    <text x="103" y="170" text-anchor="middle" fill="#fd79a8" font-family="Arial, sans-serif" font-size="11" font-weight="bold">trivy.py</text>
    <text x="25" y="190" fill="#888" font-family="monospace" font-size="8">TrivyIntegration</text>
    <text x="25" y="205" fill="#888" font-family="monospace" font-size="8">Server API client</text>
    <text x="25" y="220" fill="#fd79a8" font-family="monospace" font-size="7">:8083</text>

    <!-- Nexus Integration -->
    <rect x="205" y="145" width="175" height="80" rx="8" fill="#1a1a2e" stroke="#00cec9" stroke-width="1"/>
    <text x="293" y="170" text-anchor="middle" fill="#00cec9" font-family="Arial, sans-serif" font-size="11" font-weight="bold">nexus.py</text>
    <text x="215" y="190" fill="#888" font-family="monospace" font-size="8">NexusIntegration</text>
    <text x="215" y="205" fill="#888" font-family="monospace" font-size="8">Registry API v2</text>
    <text x="215" y="220" fill="#81ecec" font-family="monospace" font-size="7">:5001</text>

    <!-- Ollama Integration -->
    <rect x="15" y="240" width="175" height="80" rx="8" fill="#1a1a2e" stroke="#a29bfe" stroke-width="1"/>
    <text x="103" y="265" text-anchor="middle" fill="#a29bfe" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ollama.py</text>
    <text x="25" y="285" fill="#888" font-family="monospace" font-size="8">OllamaIntegration</text>
    <text x="25" y="300" fill="#888" font-family="monospace" font-size="8">LLM API client</text>
    <text x="25" y="315" fill="#a29bfe" font-family="monospace" font-size="7">:11434</text>

    <!-- ChromaDB Integration -->
    <rect x="205" y="240" width="175" height="80" rx="8" fill="#1a1a2e" stroke="#fd79a8" stroke-width="1"/>
    <text x="293" y="265" text-anchor="middle" fill="#fd79a8" font-family="Arial, sans-serif" font-size="11" font-weight="bold">chromadb.py</text>
    <text x="215" y="285" fill="#888" font-family="monospace" font-size="8">ChromaDBIntegration</text>
    <text x="215" y="300" fill="#888" font-family="monospace" font-size="8">Vector DB client</text>
    <text x="215" y="315" fill="#fd79a8" font-family="monospace" font-size="7">:8000</text>

    <!-- Base Class -->
    <rect x="15" y="335" width="365" height="80" rx="8" fill="#1a1a2e" stroke="#636e72" stroke-width="1"/>
    <text x="198" y="360" text-anchor="middle" fill="#636e72" font-family="Arial, sans-serif" font-size="11" font-weight="bold">base.py - BaseIntegration</text>
    <text x="25" y="385" fill="#888" font-family="monospace" font-size="8">Common methods: health_check(), call(), configure()</text>
    <text x="25" y="402" fill="#888" font-family="monospace" font-size="8">Error handling, retry logic, timeout management</text>
  </g>

  <!-- Config & Models -->
  <g filter="url(#shadow)" transform="translate(930, 610)">
    <rect x="0" y="0" width="400" height="150" rx="15" fill="#2d3436"/>
    <text x="200" y="30" text-anchor="middle" fill="#ffd93d" font-family="Arial, sans-serif" font-size="14" font-weight="bold">âš™ï¸ Configuration</text>

    <rect x="15" y="50" width="180" height="85" rx="8" fill="#1a1a2e"/>
    <text x="105" y="75" text-anchor="middle" fill="#ffd93d" font-family="Arial, sans-serif" font-size="11" font-weight="bold">config.py</text>
    <text x="25" y="95" fill="#888" font-family="monospace" font-size="8">settings: AppSettings</text>
    <text x="25" y="110" fill="#888" font-family="monospace" font-size="8">tools_manager: ToolsManager</text>
    <text x="25" y="125" fill="#888" font-family="monospace" font-size="8">CORS, API prefix, debug</text>

    <rect x="210" y="50" width="175" height="85" rx="8" fill="#1a1a2e"/>
    <text x="298" y="75" text-anchor="middle" fill="#ffd93d" font-family="Arial, sans-serif" font-size="11" font-weight="bold">models/schemas.py</text>
    <text x="220" y="95" fill="#888" font-family="monospace" font-size="8">Pydantic models</text>
    <text x="220" y="110" fill="#888" font-family="monospace" font-size="8">Request/Response schemas</text>
    <text x="220" y="125" fill="#888" font-family="monospace" font-size="8">Tool configurations</text>
  </g>

  <!-- Middleware Section -->
  <g filter="url(#shadow)" transform="translate(400, 160)">
    <rect x="0" y="0" width="260" height="180" rx="15" fill="#2d3436"/>
    <text x="130" y="30" text-anchor="middle" fill="#74b9ff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ›¡ï¸ Middleware</text>

    <rect x="15" y="50" width="230" height="50" rx="8" fill="#1a1a2e"/>
    <text x="25" y="75" fill="#74b9ff" font-family="monospace" font-size="10">CORSMiddleware</text>
    <text x="25" y="92" fill="#888" font-family="monospace" font-size="8">Origins: configurable</text>

    <rect x="15" y="110" width="230" height="55" rx="8" fill="#1a1a2e"/>
    <text x="25" y="135" fill="#74b9ff" font-family="monospace" font-size="10">Exception Handler</text>
    <text x="25" y="152" fill="#888" font-family="monospace" font-size="8">global_exception_handler()</text>
  </g>

  <!-- Lifespan -->
  <g filter="url(#shadow)" transform="translate(680, 160)">
    <rect x="0" y="0" width="230" height="180" rx="15" fill="#2d3436"/>
    <text x="115" y="30" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ”„ Lifespan</text>

    <rect x="15" y="50" width="200" height="55" rx="8" fill="#1a1a2e"/>
    <text x="25" y="75" fill="#55efc4" font-family="monospace" font-size="10">Startup</text>
    <text x="25" y="92" fill="#888" font-family="monospace" font-size="8">Load tools, log info</text>

    <rect x="15" y="115" width="200" height="50" rx="8" fill="#1a1a2e"/>
    <text x="25" y="140" fill="#55efc4" font-family="monospace" font-size="10">Shutdown</text>
    <text x="25" y="157" fill="#888" font-family="monospace" font-size="8">Cleanup resources</text>
  </g>

  <!-- API Specs -->
  <g filter="url(#shadow)" transform="translate(70, 780)">
    <rect x="0" y="0" width="840" height="110" rx="10" fill="#2d3436"/>
    <text x="420" y="25" text-anchor="middle" fill="#0984e3" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ“š API Documentation</text>
    <text x="30" y="55" fill="#e0e0e0" font-family="monospace" font-size="11">/docs â†’ Swagger UI (interactive API documentation)</text>
    <text x="30" y="75" fill="#e0e0e0" font-family="monospace" font-size="11">/redoc â†’ ReDoc (alternative API documentation)</text>
    <text x="30" y="95" fill="#888" font-family="monospace" font-size="10">API Version: v1 | Prefix: /api/v1 | 7 Routers | 6 Integrations</text>
  </g>

  <!-- Footer -->
  <text x="700" y="930" text-anchor="middle" fill="#555" font-family="Arial, sans-serif" font-size="11">AI-Powered DevOps Platform | DevOps Tools Backend | Unified API for DevOps Tool Integration</text>
</svg>