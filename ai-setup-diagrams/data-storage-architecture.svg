<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="volumeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0984e3"/>
      <stop offset="100%" style="stop-color:#74b9ff"/>
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00b894"/>
      <stop offset="100%" style="stop-color:#55efc4"/>
    </linearGradient>
    <linearGradient id="cacheGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e17055"/>
      <stop offset="100%" style="stop-color:#fab1a0"/>
    </linearGradient>
    <linearGradient id="objectGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6c5ce7"/>
      <stop offset="100%" style="stop-color:#a29bfe"/>
    </linearGradient>
    <linearGradient id="vectorGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fd79a8"/>
      <stop offset="100%" style="stop-color:#fab1a0"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a90d9"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1400" height="1000" fill="#0a0a0f"/>

  <!-- Header -->
  <rect x="0" y="0" width="1400" height="60" fill="url(#headerGrad)"/>
  <text x="700" y="38" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="24" font-weight="bold">Data Storage Architecture</text>
  <text x="1380" y="38" text-anchor="end" fill="#888" font-family="Arial, sans-serif" font-size="12">23 Docker Volumes | 4 Data Types</text>

  <!-- Data Type Categories Header -->
  <g transform="translate(0, 80)">
    <!-- Relational Data -->
    <rect x="30" y="0" width="330" height="600" rx="15" fill="#1a1a2e" stroke="#00b894" stroke-width="2"/>
    <text x="195" y="30" text-anchor="middle" fill="#00b894" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ—„ï¸ RELATIONAL DATA</text>
    <text x="195" y="50" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">PostgreSQL Databases</text>

    <!-- Main PostgreSQL -->
    <g filter="url(#shadow)">
      <rect x="50" y="70" width="290" height="130" rx="10" fill="url(#dbGrad)"/>
      <text x="195" y="100" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ˜ PostgreSQL 16 (Main)</text>
      <text x="70" y="125" fill="#1a1a2e" font-family="monospace" font-size="11">Database: modernization</text>
      <text x="70" y="145" fill="#1a1a2e" font-family="monospace" font-size="11">User: postgres</text>
      <text x="70" y="165" fill="#1a1a2e" font-family="monospace" font-size="11">Port: 5432</text>
      <rect x="60" y="175" width="270" height="18" rx="3" fill="#006060"/>
      <text x="195" y="188" text-anchor="middle" fill="#fff" font-family="monospace" font-size="9">VOL: platform-postgres-data</text>
    </g>

    <!-- SonarQube PostgreSQL -->
    <g filter="url(#shadow)">
      <rect x="50" y="220" width="290" height="110" rx="10" fill="url(#dbGrad)" opacity="0.8"/>
      <text x="195" y="250" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ˜ PostgreSQL 15 (SonarQube)</text>
      <text x="70" y="275" fill="#1a1a2e" font-family="monospace" font-size="11">Database: sonarqube</text>
      <text x="70" y="295" fill="#1a1a2e" font-family="monospace" font-size="11">Internal only (no host port)</text>
      <rect x="60" y="305" width="270" height="18" rx="3" fill="#006060"/>
      <text x="195" y="318" text-anchor="middle" fill="#fff" font-family="monospace" font-size="9">VOL: platform-sonarqube-db-data</text>
    </g>

    <!-- Redmine PostgreSQL -->
    <g filter="url(#shadow)">
      <rect x="50" y="350" width="290" height="110" rx="10" fill="url(#dbGrad)" opacity="0.8"/>
      <text x="195" y="380" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ˜ PostgreSQL 15 (Redmine)</text>
      <text x="70" y="405" fill="#1a1a2e" font-family="monospace" font-size="11">Database: redmine</text>
      <text x="70" y="425" fill="#1a1a2e" font-family="monospace" font-size="11">Internal only (no host port)</text>
      <rect x="60" y="435" width="270" height="18" rx="3" fill="#006060"/>
      <text x="195" y="448" text-anchor="middle" fill="#fff" font-family="monospace" font-size="9">VOL: platform-redmine-db-data</text>
    </g>

    <!-- Data Stats -->
    <rect x="50" y="480" width="290" height="100" rx="8" fill="#2d3436"/>
    <text x="70" y="510" fill="#00b894" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Data Stored:</text>
    <text x="70" y="530" fill="#e0e0e0" font-family="monospace" font-size="10">â€¢ Analysis jobs &amp; results</text>
    <text x="70" y="548" fill="#e0e0e0" font-family="monospace" font-size="10">â€¢ Code quality metrics</text>
    <text x="70" y="566" fill="#e0e0e0" font-family="monospace" font-size="10">â€¢ Project management data</text>
  </g>

  <!-- Cache/Queue Data -->
  <g transform="translate(380, 80)">
    <rect x="0" y="0" width="330" height="280" rx="15" fill="#1a1a2e" stroke="#e17055" stroke-width="2"/>
    <text x="165" y="30" text-anchor="middle" fill="#e17055" font-family="Arial, sans-serif" font-size="16" font-weight="bold">âš¡ CACHE &amp; QUEUE</text>
    <text x="165" y="50" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Redis In-Memory Store</text>

    <g filter="url(#shadow)">
      <rect x="20" y="70" width="290" height="130" rx="10" fill="url(#cacheGrad)"/>
      <text x="165" y="100" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ”´ Redis 7</text>
      <text x="40" y="125" fill="#1a1a2e" font-family="monospace" font-size="11">Mode: AOF Persistence</text>
      <text x="40" y="145" fill="#1a1a2e" font-family="monospace" font-size="11">Port: 6379</text>
      <text x="40" y="165" fill="#1a1a2e" font-family="monospace" font-size="11">--appendonly yes</text>
      <rect x="30" y="175" width="270" height="18" rx="3" fill="#8b4513"/>
      <text x="165" y="188" text-anchor="middle" fill="#fff" font-family="monospace" font-size="9">VOL: platform-redis-data</text>
    </g>

    <rect x="20" y="210" width="290" height="55" rx="8" fill="#2d3436"/>
    <text x="40" y="235" fill="#e17055" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Use Cases:</text>
    <text x="40" y="253" fill="#e0e0e0" font-family="monospace" font-size="10">â€¢ Job queues, Session cache, Rate limiting</text>
  </g>

  <!-- Object Storage -->
  <g transform="translate(380, 380)">
    <rect x="0" y="0" width="330" height="300" rx="15" fill="#1a1a2e" stroke="#6c5ce7" stroke-width="2"/>
    <text x="165" y="30" text-anchor="middle" fill="#6c5ce7" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ“¦ OBJECT STORAGE</text>
    <text x="165" y="50" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">S3-Compatible Storage</text>

    <g filter="url(#shadow)">
      <rect x="20" y="70" width="290" height="150" rx="10" fill="url(#objectGrad)"/>
      <text x="165" y="100" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ“¦ MinIO</text>
      <text x="40" y="125" fill="#e0e0e0" font-family="monospace" font-size="11">API Port: 9000</text>
      <text x="40" y="145" fill="#e0e0e0" font-family="monospace" font-size="11">Console Port: 9001</text>
      <text x="40" y="165" fill="#e0e0e0" font-family="monospace" font-size="11">User: minioadmin</text>
      <text x="40" y="185" fill="#e0e0e0" font-family="monospace" font-size="11">S3 Compatible API</text>
      <rect x="30" y="195" width="270" height="18" rx="3" fill="#4a3080"/>
      <text x="165" y="208" text-anchor="middle" fill="#fff" font-family="monospace" font-size="9">VOL: platform-minio-data</text>
    </g>

    <rect x="20" y="230" width="290" height="55" rx="8" fill="#2d3436"/>
    <text x="40" y="255" fill="#6c5ce7" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Stored Objects:</text>
    <text x="40" y="273" fill="#e0e0e0" font-family="monospace" font-size="10">â€¢ Artifacts, Reports, Logs, Backups</text>
  </g>

  <!-- Vector Storage -->
  <g transform="translate(730, 80)">
    <rect x="0" y="0" width="330" height="280" rx="15" fill="#1a1a2e" stroke="#fd79a8" stroke-width="2"/>
    <text x="165" y="30" text-anchor="middle" fill="#fd79a8" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ§  VECTOR DATABASE</text>
    <text x="165" y="50" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">AI Embeddings &amp; RAG</text>

    <g filter="url(#shadow)">
      <rect x="20" y="70" width="290" height="130" rx="10" fill="url(#vectorGrad)"/>
      <text x="165" y="100" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ§  ChromaDB</text>
      <text x="40" y="125" fill="#1a1a2e" font-family="monospace" font-size="11">Port: 8000</text>
      <text x="40" y="145" fill="#1a1a2e" font-family="monospace" font-size="11">Telemetry: Disabled</text>
      <text x="40" y="165" fill="#1a1a2e" font-family="monospace" font-size="11">Embedding Model: Built-in</text>
      <rect x="30" y="175" width="270" height="18" rx="3" fill="#8b3060"/>
      <text x="165" y="188" text-anchor="middle" fill="#fff" font-family="monospace" font-size="9">VOL: platform-chromadb-data</text>
    </g>

    <rect x="20" y="210" width="290" height="55" rx="8" fill="#2d3436"/>
    <text x="40" y="235" fill="#fd79a8" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Collections:</text>
    <text x="40" y="253" fill="#e0e0e0" font-family="monospace" font-size="10">â€¢ templates_dockerfile, templates_gitlab</text>
  </g>

  <!-- LLM Model Storage -->
  <g transform="translate(730, 380)">
    <rect x="0" y="0" width="330" height="300" rx="15" fill="#1a1a2e" stroke="#00cec9" stroke-width="2"/>
    <text x="165" y="30" text-anchor="middle" fill="#00cec9" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ¤– LLM MODEL STORAGE</text>
    <text x="165" y="50" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Ollama Models</text>

    <g filter="url(#shadow)">
      <rect x="20" y="70" width="290" height="150" rx="10" fill="#00cec9"/>
      <text x="165" y="100" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ¤– Ollama</text>
      <text x="40" y="125" fill="#1a1a2e" font-family="monospace" font-size="11">Port: 11434</text>
      <text x="40" y="145" fill="#1a1a2e" font-family="monospace" font-size="11">GPU: NVIDIA (all)</text>
      <text x="40" y="165" fill="#1a1a2e" font-family="monospace" font-size="10">Models: qwen2.5-coder:32b</text>
      <text x="40" y="183" fill="#1a1a2e" font-family="monospace" font-size="10">        llama3:8b, clawdbot</text>
      <rect x="30" y="195" width="270" height="18" rx="3" fill="#007070"/>
      <text x="165" y="208" text-anchor="middle" fill="#fff" font-family="monospace" font-size="9">VOL: platform-ollama-data</text>
    </g>

    <rect x="20" y="230" width="290" height="55" rx="8" fill="#2d3436"/>
    <text x="40" y="255" fill="#00cec9" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Stored:</text>
    <text x="40" y="273" fill="#e0e0e0" font-family="monospace" font-size="10">â€¢ Model weights, Configs, Custom models</text>
  </g>

  <!-- Application Data Volumes -->
  <g transform="translate(1080, 80)">
    <rect x="0" y="0" width="290" height="600" rx="15" fill="#1a1a2e" stroke="#636e72" stroke-width="2"/>
    <text x="145" y="30" text-anchor="middle" fill="#636e72" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ“ APPLICATION DATA</text>
    <text x="145" y="50" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Service-Specific Volumes</text>

    <!-- GitLab Volumes -->
    <g filter="url(#shadow)">
      <rect x="15" y="70" width="260" height="100" rx="8" fill="#e17055"/>
      <text x="145" y="95" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ¦Š GitLab (3 volumes)</text>
      <text x="30" y="115" fill="#e0e0e0" font-family="monospace" font-size="9">platform-gitlab-config</text>
      <text x="30" y="130" fill="#e0e0e0" font-family="monospace" font-size="9">platform-gitlab-logs</text>
      <text x="30" y="145" fill="#e0e0e0" font-family="monospace" font-size="9">platform-gitlab-data</text>
      <text x="30" y="162" fill="#ffd0c0" font-family="monospace" font-size="8">+ runner: platform-gitlab-runner-config</text>
    </g>

    <!-- SonarQube Volumes -->
    <g filter="url(#shadow)">
      <rect x="15" y="180" width="260" height="85" rx="8" fill="#00b894"/>
      <text x="145" y="205" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ” SonarQube (3 volumes)</text>
      <text x="30" y="225" fill="#e0e0e0" font-family="monospace" font-size="9">platform-sonarqube-data</text>
      <text x="30" y="240" fill="#e0e0e0" font-family="monospace" font-size="9">platform-sonarqube-extensions</text>
      <text x="30" y="255" fill="#e0e0e0" font-family="monospace" font-size="9">platform-sonarqube-logs</text>
    </g>

    <!-- Redmine Volumes -->
    <g filter="url(#shadow)">
      <rect x="15" y="275" width="260" height="85" rx="8" fill="#8e44ad"/>
      <text x="145" y="300" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ“‹ Redmine (3 volumes)</text>
      <text x="30" y="320" fill="#e0e0e0" font-family="monospace" font-size="9">platform-redmine-data</text>
      <text x="30" y="335" fill="#e0e0e0" font-family="monospace" font-size="9">platform-redmine-plugins</text>
      <text x="30" y="350" fill="#e0e0e0" font-family="monospace" font-size="9">platform-redmine-themes</text>
    </g>

    <!-- Monitoring Volumes -->
    <g filter="url(#shadow)">
      <rect x="15" y="370" width="260" height="85" rx="8" fill="#2d3436" stroke="#55efc4" stroke-width="1"/>
      <text x="145" y="395" text-anchor="middle" fill="#55efc4" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ“Š Monitoring (3 volumes)</text>
      <text x="30" y="415" fill="#e0e0e0" font-family="monospace" font-size="9">platform-prometheus-data</text>
      <text x="30" y="430" fill="#e0e0e0" font-family="monospace" font-size="9">platform-grafana-data</text>
      <text x="30" y="445" fill="#e0e0e0" font-family="monospace" font-size="9">platform-loki-data</text>
    </g>

    <!-- Other Volumes -->
    <g filter="url(#shadow)">
      <rect x="15" y="465" width="260" height="70" rx="8" fill="#2d3436" stroke="#74b9ff" stroke-width="1"/>
      <text x="145" y="490" text-anchor="middle" fill="#74b9ff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ“¦ Other (2 volumes)</text>
      <text x="30" y="510" fill="#e0e0e0" font-family="monospace" font-size="9">platform-nexus-data</text>
      <text x="30" y="525" fill="#e0e0e0" font-family="monospace" font-size="9">platform-trivy-cache</text>
    </g>

    <!-- Open WebUI -->
    <g filter="url(#shadow)">
      <rect x="15" y="545" width="260" height="40" rx="8" fill="#6c5ce7"/>
      <text x="145" y="570" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ğŸ’¬ platform-open-webui-data</text>
    </g>
  </g>

  <!-- Volume Summary Box -->
  <g transform="translate(30, 700)">
    <rect x="0" y="0" width="680" height="130" rx="10" fill="#1a1a2e" stroke="#4a90d9" stroke-width="2"/>
    <text x="20" y="30" fill="#4a90d9" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ“Š Volume Summary (23 Named Volumes)</text>

    <text x="20" y="55" fill="#00b894" font-family="monospace" font-size="11">Databases (3):</text>
    <text x="140" y="55" fill="#e0e0e0" font-family="monospace" font-size="10">postgres, sonarqube-db, redmine-db</text>

    <text x="20" y="75" fill="#e17055" font-family="monospace" font-size="11">Cache (1):</text>
    <text x="140" y="75" fill="#e0e0e0" font-family="monospace" font-size="10">redis (AOF persistence)</text>

    <text x="20" y="95" fill="#6c5ce7" font-family="monospace" font-size="11">Object/Vector (2):</text>
    <text x="140" y="95" fill="#e0e0e0" font-family="monospace" font-size="10">minio, chromadb</text>

    <text x="20" y="115" fill="#636e72" font-family="monospace" font-size="11">Applications (17):</text>
    <text x="140" y="115" fill="#e0e0e0" font-family="monospace" font-size="10">gitlab(4), sonarqube(4), redmine(4), monitoring(3), nexus, trivy</text>
  </g>

  <!-- Data Flow Patterns -->
  <g transform="translate(730, 700)">
    <rect x="0" y="0" width="640" height="130" rx="10" fill="#1a1a2e" stroke="#00b894" stroke-width="2"/>
    <text x="20" y="30" fill="#00b894" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ğŸ”„ Data Flow Patterns</text>

    <text x="20" y="55" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="11">
      <tspan font-weight="bold" fill="#fd79a8">RAG Flow:</tspan> User Query â†’ ChromaDB (vectors) â†’ Ollama (inference)
    </text>
    <text x="20" y="75" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="11">
      <tspan font-weight="bold" fill="#0984e3">Analysis Flow:</tspan> Source â†’ PostgreSQL (metadata) â†’ MinIO (artifacts)
    </text>
    <text x="20" y="95" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="11">
      <tspan font-weight="bold" fill="#e17055">CI/CD Flow:</tspan> GitLab â†’ Nexus (images) â†’ Trivy (scans)
    </text>
    <text x="20" y="115" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="11">
      <tspan font-weight="bold" fill="#55efc4">Monitoring Flow:</tspan> Services â†’ Prometheus (metrics) â†’ Grafana (viz)
    </text>
  </g>

  <!-- Legend -->
  <g transform="translate(30, 860)">
    <text x="0" y="0" fill="#888" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Data Type Legend:</text>
    <rect x="0" y="15" width="20" height="12" rx="2" fill="url(#dbGrad)"/>
    <text x="25" y="25" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">Relational (SQL)</text>
    <rect x="130" y="15" width="20" height="12" rx="2" fill="url(#cacheGrad)"/>
    <text x="155" y="25" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">Cache (Redis)</text>
    <rect x="250" y="15" width="20" height="12" rx="2" fill="url(#objectGrad)"/>
    <text x="275" y="25" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">Object (S3)</text>
    <rect x="350" y="15" width="20" height="12" rx="2" fill="url(#vectorGrad)"/>
    <text x="375" y="25" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">Vector (Embeddings)</text>
    <rect x="490" y="15" width="20" height="12" rx="2" fill="#00cec9"/>
    <text x="515" y="25" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">LLM Models</text>
    <rect x="610" y="15" width="20" height="12" rx="2" fill="#636e72"/>
    <text x="635" y="25" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">Application Data</text>
  </g>

  <!-- Persistence Note -->
  <g transform="translate(30, 910)">
    <text x="0" y="0" fill="#888" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Persistence Strategy:</text>
    <text x="0" y="20" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">All volumes use Docker named volumes for data persistence across container restarts. Data survives docker-compose down/up cycles.</text>
    <text x="0" y="40" fill="#ffd93d" font-family="Arial, sans-serif" font-size="10">âš ï¸ Backup Strategy: Regular snapshots recommended for postgres, chromadb, minio, and gitlab volumes.</text>
  </g>

  <!-- Footer -->
  <text x="700" y="980" text-anchor="middle" fill="#555" font-family="Arial, sans-serif" font-size="11">AI-Powered DevOps Platform | Comprehensive Data Storage Architecture | Named Volumes for Persistence</text>
</svg>